# Bowl Pick'em Progress - December 25, 2025

## Session Summary
Built core application in Phases 1-6. Ready for Railway deployment.

---

## Completed (Phases 1-6)
- Vite + React + TypeScript + Tailwind + shadcn/ui
- Supabase connected (project `rhufeltyxswtidwgsmat`)
- 5 tables created with RLS policies
- 27 bowl games seeded (Dec 26 - Jan 2)
- Magic link auth working
- Games UI with pick functionality
- **Pools & Leaderboard** (Phase 5)
  - `usePools.ts` hook with create/join/leave/leaderboard
  - `PoolCard.tsx` with copy invite link
  - `CreatePoolDialog.tsx` for creating new pools
  - `PoolsSection.tsx` with join by code form
  - `Leaderboard.tsx` with scores table in modal
  - `JoinPool.tsx` page for invite link flow
  - Tabs UI in Home.tsx (My Picks / Pools)
- **Results Edge Function** (Phase 6)
  - `update-scores` Edge Function deployed
  - Scrapes ESPN bowl scores via Firecrawl API
  - Matches games by team names and updates DB
  - Requires FIRECRAWL_API_KEY secret
- Build passes: `bun run build`

## Remaining (Phase 7)
- **Phase 7**: Deploy to Railway

---

## Key Files
```
src/
├── hooks/
│   ├── useAuth.ts          # Auth state & magic link
│   ├── useGames.ts         # Games, picks, lock status
│   └── usePools.ts         # Pools, members, leaderboard
├── components/
│   ├── ui/                 # shadcn components
│   ├── AuthForm.tsx        # Magic link login
│   ├── Header.tsx          # Nav bar with sign out
│   ├── GameCard.tsx        # Individual game with pick buttons
│   ├── GameList.tsx        # All games grouped by date
│   ├── PoolCard.tsx        # Pool card with invite link
│   ├── PoolsSection.tsx    # Pools tab content
│   ├── CreatePoolDialog.tsx # Create pool modal
│   └── Leaderboard.tsx     # Leaderboard modal
├── pages/
│   ├── Home.tsx            # Main dashboard with tabs
│   ├── JoinPool.tsx        # /join/:code
│   └── AuthCallback.tsx    # /auth/callback
├── lib/
│   └── supabase.ts         # Supabase client
└── types/
    └── database.ts         # TypeScript types for DB
```

---

## Database Tables
| Table | Purpose |
|-------|---------|
| profiles | User profiles (auto-created on signup) |
| pools | Pick'em pools with invite codes |
| pool_members | Pool membership |
| games | 27 bowl games (seeded) |
| picks | User picks with lock time enforcement |

---

## Commands
```bash
bun run dev      # Start dev server
bun run build    # Production build
```

---

## Supabase Details
- **Project ID**: rhufeltyxswtidwgsmat
- **URL**: https://rhufeltyxswtidwgsmat.supabase.co
- **Lock Time**: 2025-12-26 00:00:00 ET (midnight tonight)

---

## Edge Function Details
- **Function URL**: `https://rhufeltyxswtidwgsmat.supabase.co/functions/v1/update-scores`
- **Set Secret**: `npx supabase secrets set FIRECRAWL_API_KEY=<key> --project-ref rhufeltyxswtidwgsmat`
- **Test**: `curl https://rhufeltyxswtidwgsmat.supabase.co/functions/v1/update-scores`

## Next Session: Phase 7 Tasks
1. Deploy frontend to Railway
2. Configure environment variables on Railway
3. Set up custom domain (optional)
4. Test production deployment
